---
import { generateStaticPaths } from '../../modules/notion/api/generateStaticPaths';
import { Notion } from '../../modules/notion/components';
import Layout from '../../layouts/Layout.astro';
import '../../styles/notion.css'

export async function getStaticPaths() {
  const data = await generateStaticPaths();
  return data;
}

const { pageData, blocks } = Astro.props;
---

<Layout title={`${pageData.properties.title} | by Weerawong Vonggatunyu | Qu1etboy`}>
  <main class="max-w-2xl mx-auto py-24 px-4 md:px-0">
    <header class="mt-3 mb-8">
      <h1 class="text-lg font-bold mb-2">{pageData.properties.title}</h1>
      <div class="flex items-center gap-3">
        <img src="https://avatars.githubusercontent.com/u/95042765" alt="Avatar" class="h-8 w-8 inline-block"/>
        <a href="/blog">Weerawong Vonggatunyu</a>
        <time class="text-gray-500 text-sm">üóìÔ∏è {new Date(pageData.date.edited).toDateString()}</time>
      </div>
    </header>
    <article class="leading-7">
      <Notion {blocks} />
    </article>
  </main>
</Layout>